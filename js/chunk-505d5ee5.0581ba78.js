(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-505d5ee5"],{"06e9":function(t,e,r){"use strict";r("af91")},"4a39":function(t,e,r){},"4d17":function(t,e,r){"use strict";r("4a39")},"5dfc":function(t,e,r){"use strict";r("85ba")},"85ba":function(t,e,r){},"9d20":function(t,e,r){"use strict";r("e4a5")},af91:function(t,e,r){},b0c0:function(t,e,r){var s=r("83ab"),o=r("9bf2").f,a=Function.prototype,i=a.toString,n=/^\s*function ([^ (]*)/,l="name";s&&!(l in a)&&o(a,l,{configurable:!0,get:function(){try{return i.call(this).match(n)[1]}catch(t){return""}}})},d504:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Navbar",{on:{setLoginModal:t.setLoginModal,setRegisterModal:t.setRegisterModal}}),r("Modal",{attrs:{"footer-hide":"","mask-closable":!1},model:{value:t.loginModal,callback:function(e){t.loginModal=e},expression:"loginModal"}},[r("Login",{on:{setLoginModal:t.setLoginModal,setRegisterModal:t.setRegisterModal}})],1),r("Modal",{staticStyle:{padding:"20px"},attrs:{"footer-hide":"","mask-closable":!1},model:{value:t.registerModal,callback:function(e){t.registerModal=e},expression:"registerModal"}},[r("Register",{on:{setLoginModal:t.setLoginModal,setRegisterModal:t.setRegisterModal}})],1),r("div",{staticClass:"font-stype form-wrapper"},[r("Row",{staticStyle:{padding:"5%","margin-top":"5%"},attrs:{type:"flex",justify:"center",gutter:40}},[r("Col",{attrs:{span:"10"}},[r("p",{staticClass:"title-font-stlye"},[t._v(" 随时随地组织会议 ")]),r("p",{staticClass:"text-font-style"},[t._v(" 您只需设置好会议，然后将链接分享给与会者即可。CMS采用操作快捷的轻量级界面，并提供智能的参与者管理功能，可让您轻松组织，参与会议。 ")]),r("Divider"),r("p",{staticClass:"text-font-style"},[t._v(" 还没有账号？"),r("a",{on:{click:t.setTuretoRegisterModal}},[t._v("不妨注册一个")])])],1),r("Col",{attrs:{span:"10"}},[r("img",{staticClass:"control-layout",attrs:{src:"https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE4qpUo?ver=fc80&q=90&h=675&w=830&b=%23FFFFFFFF&aim=true"}})])],1),r("Row",{staticStyle:{padding:"5%","background-color":"#F5F5F5"},attrs:{type:"flex",justify:"center",gutter:40}},[r("Col",{attrs:{span:"10"}},[r("img",{staticClass:"control-layout",attrs:{src:"https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE3oNUA?ver=2548&q=90&h=675&w=830&b=%23FFFFFFFF&aim=true"}})]),r("Col",{attrs:{span:"10"}},[r("p",{staticClass:"title-font-stlye"},[t._v(" 会议管理更加便捷 ")]),r("p",{staticClass:"text-font-style"},[t._v(" 您只需要参与会议，后台即刻智能提供专车。无需额外的操作，高效开启您的会议。 ")])])],1),r("Row",{staticStyle:{padding:"5%"},attrs:{type:"flex",justify:"center",gutter:40}},[r("Col",{attrs:{span:"10"}},[r("p",{staticClass:"title-font-stlye"},[t._v(" 丰富的组织方式 ")]),r("p",{staticClass:"text-font-style"},[t._v(" 立即加入、开启您的会议，多种形式，线上线下，一步到位。 ")])]),r("Col",{attrs:{span:"10"}},[r("img",{staticClass:"control-layout",attrs:{src:"https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE3oQsI?ver=1297&q=90&h=675&w=830&b=%23FFFFFFFF&aim=true"}})])],1)],1),r("Footer",{staticStyle:{height:"200px",width:"100%"}},[r("h1",{staticStyle:{"text-align":"center"}},[t._v("设计团队")]),r("p")])],1)},o=[],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{position:"fixed",top:"0",width:"100%","z-index":"1000"}},[r("Menu",{attrs:{mode:"horizontal","active-name":"1"}},[r("img",{staticClass:"control-layout",staticStyle:{"pointer-events":"none",float:"left"},attrs:{src:"http://tvax4.sinaimg.cn/large/007YSV3xgy1gl45wx0lx7j30a00a0mxd.jpg"}}),r("MenuItem",{attrs:{name:"home"}},[r("Icon",{attrs:{type:"ios-people"}}),t._v(" 欢迎使用CMS ")],1),r("Poptip",{staticClass:"control-layout",attrs:{trigger:"hover"}},[r("MenuItem",{attrs:{name:"introduction"}},[t._v(" 产品介绍 ")]),r("div",{attrs:{slot:"content"},slot:"content"},[t._v(" 该描述点啥就该找项目经理了 ")])],1),r("Poptip",{staticClass:"control-layout",attrs:{trigger:"hover"}},[r("MenuItem",{attrs:{name:"designTeam"}},[t._v(" 设计团队 ")]),r("div",{attrs:{slot:"content"},slot:"content"},[t._v(" 该描述点啥还得看项目经理啊 ")])],1),""!==this.$store.state.token?r("div",{staticStyle:{float:"right","margin-right":"5%"}},[r("Dropdown",[r("a",{staticStyle:{"font-size":"20px"}},[r("Icon",{attrs:{type:"ios-person",size:"24"}}),t._v(" "+t._s(this.$store.state.username)+" ")],1),r("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[r("DropdownItem",{attrs:{name:"exit"}},[r("a",{on:{click:t.LogOut}},[t._v("退出登录")])])],1)],1)],1):r("div",{staticStyle:{float:"right"}},[r("MenuItem",{attrs:{name:"login"}},[r("Button",{attrs:{type:"primary",size:"large"},on:{click:t.showLogin}},[t._v("登录")])],1),r("MenuItem",{attrs:{name:"register"}},[r("Button",{attrs:{size:"large"},on:{click:t.showRegister}},[t._v("注册")])],1)],1)],1)],1)},i=[],n={name:"Navbar",data:function(){return{}},methods:{showLogin:function(){this.$emit("setLoginModal",!0)},showRegister:function(){this.$emit("setRegisterModal",!0)},LogOut:function(){var t=this;window.localStorage.clear(),t.$Message.success("退出成功"),setTimeout((function(){t.$router.push("/index"),t.$router.go(0)}),500)}}},l=n,m=(r("5dfc"),r("0c7c")),c=Object(m["a"])(l,a,i,!1,null,null,null),d=c.exports,u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{margin:"10%"}},[r("h1",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.userType[t.selected])+"登录")]),r("Select",{staticStyle:{width:"80px",margin:"5px auto",display:"block"},attrs:{size:"small"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.userType,(function(e,s){return r("Option",{key:s,attrs:{value:s}},[t._v(t._s(e))])})),1),r("Form",{ref:"formItem",attrs:{"hide-required-mark":"",model:t.formItem,rules:t.ruleInline}},[r("FormItem",{attrs:{label:"账号",prop:"username"}},[r("Input",{attrs:{type:"text",placeholder:"手机号/账号"},model:{value:t.formItem.username,callback:function(e){t.$set(t.formItem,"username",e)},expression:"formItem.username"}})],1),r("FormItem",{attrs:{label:"密码",prop:"password"}},[r("Input",{attrs:{type:"password",password:"",placeholder:"密码"},model:{value:t.formItem.password,callback:function(e){t.$set(t.formItem,"password",e)},expression:"formItem.password"}})],1),r("FormItem",[r("Button",{staticClass:"button",attrs:{type:"primary",long:""},on:{click:function(e){return t.submitForm()}}},[t._v("登录")]),"user"===t.selected?r("div",[r("Button",{staticClass:"button",attrs:{long:""},on:{click:function(){t.resetForm("formItem"),t.gotoRegister()}}},[t._v("注册")])],1):r("div",[r("Button",{staticClass:"button",attrs:{long:"",block:""},on:{click:t.gotoIndex}},[t._v("返回")])],1)],1)],1)],1)},p=[],g={name:"Login",data:function(){return{formItem:{usertype:"",username:"",password:""},ruleInline:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{type:"string",min:8,message:"密码至少需8位",trigger:"blur"}]},userType:{user:"用户",driver:"司机",hotel:"酒店",admin:"管理员"},selected:"user"}},methods:{gotoIndex:function(){this.$emit("setLoginModal",!1)},gotoRegister:function(){this.$emit("setLoginModal",!1),this.$emit("setRegisterModal",!0)},submitForm:function(){var t=this,e=this;this.$refs["formItem"].validate((function(r){if(r){var s={role:t.selected.toUpperCase(),username:t.formItem.username,password:t.formItem.password};t.$axios({method:"post",url:"".concat(t.$baseURI,"/api/login/submit"),data:s}).then((function(t){var r=t["data"];!0===Boolean(r["success"])?(e.$Message.success("登录成功"),e.$store.commit("setToken",r["token"]),e.$store.commit("setUsername",r["username"]),e.$store.commit("setAccountId",r["account_id"]),e.$store.commit("setRole",r["role"].toLowerCase()),e.$router.push("/".concat(e.selected))):e.$Message.error(r["message"])}))}}))},resetForm:function(t){this.$refs[t].resetFields()}}},f=g,h=(r("4d17"),Object(m["a"])(f,u,p,!1,null,"1f6d91aa",null)),I=h.exports,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{padding:"12px 10px","padding-bottom":"0"}},[r("h2",{staticClass:"center"},[t._v("注册")]),r("Form",{ref:"formItem",attrs:{"hide-required-mark":"",model:t.formItem,rules:t.fromValidate,"label-width":80}},[r("FormItem",{attrs:{label:"用户名",prop:"username"}},[r("Input",{attrs:{placeholder:"长度为2-16的字符"},model:{value:t.formItem.username,callback:function(e){t.$set(t.formItem,"username",e)},expression:"formItem.username"}})],1),r("FormItem",{attrs:{label:"密码",prop:"password"}},[r("Input",{attrs:{type:"password",password:"",placeholder:"长度为8-32, 需包含字母和数字"},model:{value:t.formItem.password,callback:function(e){t.$set(t.formItem,"password",e)},expression:"formItem.password"}})],1),r("FormItem",{attrs:{label:"确认密码",prop:"passwordCheck"}},[r("Input",{attrs:{type:"password",password:"",placeholder:"重复上述的密码"},model:{value:t.formItem.passwordCheck,callback:function(e){t.$set(t.formItem,"passwordCheck",e)},expression:"formItem.passwordCheck"}})],1),r("FormItem",{attrs:{label:"姓名",prop:"name"}},[r("Input",{attrs:{placeholder:""},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}})],1),r("FormItem",{attrs:{label:"性别",prop:"gender"}},[r("RadioGroup",{model:{value:t.formItem.gender,callback:function(e){t.$set(t.formItem,"gender",e)},expression:"formItem.gender"}},[r("Radio",{attrs:{label:"MALE"}},[t._v("男")]),r("Radio",{attrs:{label:"FEMALE"}},[t._v("女")])],1)],1),r("FormItem",{attrs:{label:"生日",prop:"birthday"}},[r("DatePicker",{attrs:{type:"date",options:t.pickerControl},model:{value:t.formItem.birthday,callback:function(e){t.$set(t.formItem,"birthday",e)},expression:"formItem.birthday"}})],1),r("FormItem",{attrs:{label:"邮箱",prop:"email"}},[r("Input",{model:{value:t.formItem.email,callback:function(e){t.$set(t.formItem,"email",e)},expression:"formItem.email"}})],1),r("FormItem",{attrs:{label:"身份证号",prop:"idCard"}},[r("Input",{attrs:{placeholder:""},model:{value:t.formItem.idCard,callback:function(e){t.$set(t.formItem,"idCard",e)},expression:"formItem.idCard"}})],1),r("FormItem",{attrs:{label:"工作单位",prop:"workUnit"}},[r("Input",{attrs:{placeholder:""},model:{value:t.formItem.workUnit,callback:function(e){t.$set(t.formItem,"workUnit",e)},expression:"formItem.workUnit"}})],1),r("FormItem",{attrs:{label:"手机号码",prop:"phone"}},[r("Input",{attrs:{placeholder:""},model:{value:t.formItem.phone,callback:function(e){t.$set(t.formItem,"phone",e)},expression:"formItem.phone"}})],1),r("FormItem",[r("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(e){return t.resetForm("formItem")}}},[t._v("重置")]),r("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(e){return t.submitForm("formItem")}}},[t._v("提交")]),r("Button",{staticStyle:{float:"left"},attrs:{type:"text"},on:{click:function(){t.resetForm("formItem"),t.gotoLogin()}}},[t._v("登录现有账号")])],1)],1)],1)},v=[],y=(r("b0c0"),{name:"Register",data:function(){var t=this,e=function(e,r,s){return r!==t.formItem.password?s(new Error("密码验证不一致")):s()},r=function(e,r,s){t.$axios({method:"post",url:t.$baseURI+"/api/register/checkUsername",data:{username:r}}).then((function(t){!1===t["data"]["result"]?s(new Error("用户名重复")):s()}))};return{formItem:{username:"",password:"",passwordCheck:"",name:"",gender:"MALE",birthday:"",email:"",idCard:"",workUnit:"",phone:""},pickerControl:{disabledDate:function(t){return t.getTime()>Date.now()-864e4}},fromValidate:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{validator:r,trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{type:"string",min:8,message:"密码至少需8位",trigger:"blur"},{type:"string",max:32,message:"密码最多32位",trigger:"blur"},{pattern:/(?=.*[0-9])(?=.*[a-zA-Z])/,message:"密码需包含字母和数字",trigger:"blur"}],passwordCheck:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{validator:e,trigger:"blur"}],name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"blur"}],birthday:[{required:!0,type:"date",message:"生日不能为空",trigger:"change"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"邮箱不合法",trigger:"blur"}],idCard:[{required:!0,message:"身份证号不能为空",trigger:"blur"},{pattern:/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"身份证号不合法",trigger:"blur"}],workUnit:"",phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^[1][0-9]{10}$/,message:"手机号不合法",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this,r=this;this.$refs[t].validate((function(t){if(t){var s={username:e.formItem.username,password:e.formItem.password,name:e.formItem.name,gender:e.formItem.gender,birthday:e.formItem.birthday.getTime(),residentIdNumber:e.formItem.idCard,email:e.formItem.email,telephone:e.formItem.phone,workplace:e.formItem.workUnit};e.$axios({method:"post",url:"".concat(e.$baseURI,"/api/register/submit"),data:s}).then((function(t){!0===t["data"]["success"]?(r.$Message.success("注册成功，即将跳转到登录界面"),setTimeout((function(){r.$emit("setRegisterModal",!1),r.$emit("setLoginModal",!0)}),1500)):r.$Message.error(t["data"]["message"])}))}}))},resetForm:function(t){this.$refs[t].resetFields()},gotoLogin:function(){this.$emit("setRegisterModal",!1),this.$emit("setLoginModal",!0)}}}),w=y,k=(r("9d20"),Object(m["a"])(w,b,v,!1,null,"1d95331e",null)),F=k.exports,x={name:"index",components:{Navbar:d,Login:I,Register:F},data:function(){return{loginModal:!1,registerModal:!1}},methods:{setLoginModal:function(t){this.loginModal=t},setRegisterModal:function(t){this.registerModal=t},setTuretoRegisterModal:function(){this.registerModal=!0}}},M=x,$=(r("06e9"),Object(m["a"])(M,s,o,!1,null,"228c0dc4",null));e["default"]=$.exports},e4a5:function(t,e,r){}}]);
//# sourceMappingURL=chunk-505d5ee5.0581ba78.js.map