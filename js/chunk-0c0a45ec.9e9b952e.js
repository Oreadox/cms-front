(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c0a45ec"],{1918:function(t,e,r){"use strict";r("951d")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var a=r("1d80"),s=r("5899"),o="["+s+"]",n=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),l=function(t){return function(e){var r=String(a(e));return 1&t&&(r=r.replace(n,"")),2&t&&(r=r.replace(i,"")),r}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5dfc":function(t,e,r){"use strict";r("85ba")},7156:function(t,e,r){var a=r("861d"),s=r("d2bb");t.exports=function(t,e,r){var o,n;return s&&"function"==typeof(o=e.constructor)&&o!==r&&a(n=o.prototype)&&n!==r.prototype&&s(t,n),t}},"7b31":function(t,e,r){"use strict";r("9be9")},"85ba":function(t,e,r){},"94c0":function(t,e,r){"use strict";r("ae94")},"951d":function(t,e,r){},"9be9":function(t,e,r){},a9e3:function(t,e,r){"use strict";var a=r("83ab"),s=r("da84"),o=r("94ca"),n=r("6eeb"),i=r("5135"),l=r("c6b6"),m=r("7156"),c=r("c04e"),u=r("d039"),d=r("7c73"),p=r("241c").f,f=r("06cf").f,g=r("9bf2").f,I=r("58a8").trim,b="Number",h=s[b],v=h.prototype,y=l(d(v))==b,F=function(t){var e,r,a,s,o,n,i,l,m=c(t,!1);if("string"==typeof m&&m.length>2)if(m=I(m),e=m.charCodeAt(0),43===e||45===e){if(r=m.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(m.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+m}for(o=m.slice(2),n=o.length,i=0;i<n;i++)if(l=o.charCodeAt(i),l<48||l>s)return NaN;return parseInt(o,a)}return+m};if(o(b,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var w,k=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof k&&(y?u((function(){v.valueOf.call(r)})):l(r)!=b)?m(new h(F(e)),r,k):F(e)},x=a?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;x.length>M;M++)i(h,w=x[M])&&!i(k,w)&&g(k,w,f(h,w));k.prototype=v,v.constructor=k,n(s,b,k)}},ae94:function(t,e,r){},b0c0:function(t,e,r){var a=r("83ab"),s=r("9bf2").f,o=Function.prototype,n=o.toString,i=/^\s*function ([^ (]*)/,l="name";a&&!(l in o)&&s(o,l,{configurable:!0,get:function(){try{return n.call(this).match(i)[1]}catch(t){return""}}})},d504:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Navbar",{on:{setLoginModal:t.setLoginModal,setRegisterModal:t.setRegisterModal}}),r("Modal",{attrs:{"footer-hide":"","mask-closable":!1},model:{value:t.loginModal,callback:function(e){t.loginModal=e},expression:"loginModal"}},[r("Login",{on:{setLoginModal:t.setLoginModal,setRegisterModal:t.setRegisterModal}})],1),r("Modal",{staticStyle:{padding:"20px"},attrs:{"footer-hide":"","mask-closable":!1},model:{value:t.registerModal,callback:function(e){t.registerModal=e},expression:"registerModal"}},[r("Register",{on:{setLoginModal:t.setLoginModal,setRegisterModal:t.setRegisterModal}})],1),r("div",{staticClass:"font-stype form-wrapper"},[r("Row",{staticStyle:{padding:"5%","margin-top":"5%"},attrs:{type:"flex",justify:"center",gutter:"40"}},[r("Col",{attrs:{span:"10"}},[r("p",{staticClass:"title-font-stlye"},[t._v(" 随时随地组织会议 ")]),r("p",{staticClass:"text-font-style"},[t._v(" 您只需设置好会议，然后将链接分享给与会者即可。CMS采用操作快捷的轻量级界面，并提供智能的参与者管理功能，可让您轻松组织，参与会议。 ")]),r("Divider"),r("p",{staticClass:"text-font-style"},[t._v(" 还没有账号？"),r("a",{on:{click:t.setTuretoRegisterModal}},[t._v("不妨注册一个")])])],1),r("Col",{attrs:{span:"10"}},[r("img",{staticClass:"control-layout",attrs:{src:"https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE4qpUo?ver=fc80&q=90&h=675&w=830&b=%23FFFFFFFF&aim=true"}})])],1),r("Row",{staticStyle:{padding:"5%","background-color":"#F5F5F5"},attrs:{type:"flex",justify:"center",gutter:"40"}},[r("Col",{attrs:{span:"10"}},[r("img",{staticClass:"control-layout",attrs:{src:"https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE3oNUA?ver=2548&q=90&h=675&w=830&b=%23FFFFFFFF&aim=true"}})]),r("Col",{attrs:{span:"10"}},[r("p",{staticClass:"title-font-stlye"},[t._v(" 会议管理更加便捷 ")]),r("p",{staticClass:"text-font-style"},[t._v(" 您只需要参与会议，后台即刻智能提供专车。无需额外的操作，高效开启您的会议。 ")])])],1),r("Row",{staticStyle:{padding:"5%"},attrs:{type:"flex",justify:"center",gutter:"40"}},[r("Col",{attrs:{span:"10"}},[r("p",{staticClass:"title-font-stlye"},[t._v(" 丰富的组织方式 ")]),r("p",{staticClass:"text-font-style"},[t._v(" 既可以设置为公开页面供大家加入，也能够设置为私人会议，通过id来查询加入。 ")])]),r("Col",{attrs:{span:"10"}},[r("img",{staticClass:"control-layout",attrs:{src:"https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE3oQsI?ver=1297&q=90&h=675&w=830&b=%23FFFFFFFF&aim=true"}})])],1)],1),r("Footer",{staticStyle:{height:"200px",width:"100%"}},[r("h1",{staticStyle:{"text-align":"center"}},[t._v("设计团队")]),r("p")])],1)},s=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Menu",{attrs:{mode:"horizontal","active-name":"1"}},[r("img",{staticClass:"control-layout",staticStyle:{"pointer-events":"none",float:"left"},attrs:{src:"http://tvax4.sinaimg.cn/large/007YSV3xgy1gl45wx0lx7j30a00a0mxd.jpg"}}),r("MenuItem",{attrs:{name:"home"}},[r("Icon",{attrs:{type:"ios-people"}}),t._v(" 欢迎使用CMS ")],1),r("Poptip",{staticClass:"control-layout",attrs:{trigger:"hover"}},[r("MenuItem",{attrs:{name:"introduction"}},[t._v(" 产品介绍 ")]),r("div",{attrs:{slot:"content"},slot:"content"},[t._v(" 该描述点啥就该找项目经理了 ")])],1),r("Poptip",{staticClass:"control-layout",attrs:{trigger:"hover"}},[r("MenuItem",{attrs:{name:"designTeam"}},[t._v(" 设计团队 ")]),r("div",{attrs:{slot:"content"},slot:"content"},[t._v(" 该描述点啥还得看项目经理啊 ")])],1),r("div",{staticStyle:{float:"right"}},[r("MenuItem",{attrs:{name:"login"}},[r("Button",{attrs:{type:"primary",size:"large"},on:{click:t.showLogin}},[t._v("登录")])],1),r("MenuItem",{attrs:{name:"register"}},[r("Button",{attrs:{size:"large"},on:{click:t.showRegister}},[t._v("注册")])],1)],1)],1)],1)},n=[],i={name:"Navbar",data:function(){return{}},methods:{showLogin:function(){this.$emit("setLoginModal",!0)},showRegister:function(){this.$emit("setRegisterModal",!0)}}},l=i,m=(r("5dfc"),r("0c7c")),c=Object(m["a"])(l,o,n,!1,null,null,null),u=c.exports,d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{margin:"10%"}},[r("h1",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.userType[t.selected])+"登录")]),r("Select",{staticStyle:{width:"80px",margin:"5px auto",display:"block"},attrs:{size:"small"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.userType,(function(e,a){return r("Option",{key:a,attrs:{value:a}},[t._v(t._s(e))])})),1),r("Form",{ref:"formItem",attrs:{"hide-required-mark":"",model:t.formItem,rules:t.ruleInline}},[r("FormItem",{attrs:{label:"账号",prop:"user"}},[r("Input",{attrs:{type:"text",placeholder:"手机号/账号"},model:{value:t.formItem.username,callback:function(e){t.$set(t.formItem,"username",e)},expression:"formItem.username"}})],1),r("FormItem",{attrs:{label:"密码",prop:"password"}},[r("Input",{attrs:{type:"password",password:"",placeholder:"密码"},model:{value:t.formItem.password,callback:function(e){t.$set(t.formItem,"password",e)},expression:"formItem.password"}})],1),r("FormItem",[r("Button",{staticClass:"button",attrs:{type:"primary",long:""},on:{click:function(e){return t.submitForm()}}},[t._v("登录")]),"user"===t.selected?r("div",[r("Button",{staticClass:"button",attrs:{long:""},on:{click:function(){t.resetForm("formItem"),t.gotoRegister()}}},[t._v("注册")])],1):r("div",[r("Button",{staticClass:"button",attrs:{long:"",block:""},on:{click:t.gotoIndex}},[t._v("返回")])],1)],1)],1)],1)},p=[],f={name:"Login",data:function(){return{formItem:[{usertype:"",username:"",password:""}],ruleInline:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{type:"string",min:8,message:"密码至少需8位",trigger:"blur"}]},userType:{user:"用户",driver:"司机",hotel:"酒店",admin:"管理员"},selected:"user"}},methods:{gotoIndex:function(){this.$emit("setLoginModal",!1)},gotoRegister:function(){this.$emit("setLoginModal",!1),this.$emit("setRegisterModal",!0)},submitForm:function(){var t=this,e=this;this.$refs["formItem"].validate((function(r){if(r){var a={role:t.selected.toUpperCase(),username:t.formItem.username,password:t.formItem.password};t.$axios({method:"post",url:"".concat(t.$baseURI,"/api/login/submit"),data:a}).then((function(t){var r=t["data"];!0===Boolean(r["data"]["loginSuccess"])?(e.$Message.success("登录成功"),e.$store.commit("setToken",r["data"]["token"]),e.$store.commit("setUsername",r["data"]["username"]),e.$store.commit("setRole",r["data"]["role"].toLowerCase()),e.$router.push("/".concat(e.selected,"/home"))):e.$Message.error(t["data"]["message"])}))}}))},resetForm:function(t){this.$refs[t].resetFields()}}},g=f,I=(r("94c0"),Object(m["a"])(g,d,p,!1,null,"14652987",null)),b=I.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{padding:"12px 10px","padding-bottom":"0"}},[r("h2",{staticClass:"center"},[t._v("注册")]),r("Form",{ref:"formItem",attrs:{"hide-required-mark":"",model:t.formItem,rules:t.fromValidate,"label-width":80}},[r("FormItem",{attrs:{label:"用户名",prop:"username"}},[r("Input",{attrs:{placeholder:"长度为2-16的字符"},model:{value:t.formItem.username,callback:function(e){t.$set(t.formItem,"username",e)},expression:"formItem.username"}})],1),r("FormItem",{attrs:{label:"密码",prop:"password"}},[r("Input",{attrs:{type:"password",password:"",placeholder:"长度为8-32, 需包含字母和数字"},model:{value:t.formItem.password,callback:function(e){t.$set(t.formItem,"password",e)},expression:"formItem.password"}})],1),r("FormItem",{attrs:{label:"确认密码",prop:"passwordCheck"}},[r("Input",{attrs:{type:"password",password:"",placeholder:"重复上述的密码"},model:{value:t.formItem.passwordCheck,callback:function(e){t.$set(t.formItem,"passwordCheck",e)},expression:"formItem.passwordCheck"}})],1),r("FormItem",{attrs:{label:"姓名",prop:"name"}},[r("Input",{attrs:{placeholder:""},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}})],1),r("FormItem",{attrs:{label:"性别",prop:"gender"}},[r("RadioGroup",{model:{value:t.formItem.gender,callback:function(e){t.$set(t.formItem,"gender",e)},expression:"formItem.gender"}},[r("Radio",{attrs:{label:"MALE"}},[t._v("男")]),r("Radio",{attrs:{label:"FEMALE"}},[t._v("女")])],1)],1),r("FormItem",{attrs:{label:"年龄",prop:"age"}},[r("InputNumber",{attrs:{max:200,min:0},model:{value:t.formItem.age,callback:function(e){t.$set(t.formItem,"age",e)},expression:"formItem.age"}})],1),r("FormItem",{attrs:{label:"身份证号",prop:"idCard"}},[r("Input",{attrs:{placeholder:""},model:{value:t.formItem.idCard,callback:function(e){t.$set(t.formItem,"idCard",e)},expression:"formItem.idCard"}})],1),r("FormItem",{attrs:{label:"工作单位",prop:"workUnit"}},[r("Input",{attrs:{placeholder:""},model:{value:t.formItem.workUnit,callback:function(e){t.$set(t.formItem,"workUnit",e)},expression:"formItem.workUnit"}})],1),r("FormItem",{attrs:{label:"手机号码",prop:"phone"}},[r("Input",{attrs:{placeholder:""},model:{value:t.formItem.phone,callback:function(e){t.$set(t.formItem,"phone",e)},expression:"formItem.phone"}})],1),r("FormItem",[r("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(e){return t.resetForm("formItem")}}},[t._v("重置")]),r("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(e){return t.submitForm("formItem")}}},[t._v("提交")]),r("Button",{staticStyle:{float:"left"},attrs:{type:"text"},on:{click:function(){t.resetForm("formItem"),t.gotoLogin()}}},[t._v("登录现有账号")])],1)],1)],1)},v=[],y=(r("b0c0"),r("a9e3"),{name:"Register",data:function(){var t=this,e=function(e,r,a){return r!==t.formItem.password?a(new Error("密码验证不一致")):a()},r=function(e,r,a){t.$axios({method:"post",url:t.$baseURI+"/api/register/checkUsername",data:{username:r}}).then((function(t){!1===t["data"]["data"]?a(new Error("用户名重复")):a()}))};return{formItem:{username:"",password:"",passwordCheck:"",name:"",gender:"MALE",age:Number(),idCard:"",workUnit:"",phone:""},fromValidate:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{validator:r,trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{type:"string",min:8,message:"密码至少需8位",trigger:"blur"},{type:"string",max:32,message:"密码最多32位",trigger:"blur"},{pattern:/(?=.*[0-9])(?=.*[a-zA-Z])/,message:"密码需包含字母和数字",trigger:"blur"}],passwordCheck:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{validator:e,trigger:"blur"}],name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"blur"}],age:[{type:"number",required:!0,message:"年龄不能为空",trigger:"blur"}],idCard:[{required:!0,message:"身份证号不能为空",trigger:"blur"},{pattern:/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"身份证号不合法",trigger:"blur"}],workUnit:"",phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^[1][0-9]{10}$/,message:"手机号不合法",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this,r=this;this.$refs[t].validate((function(t){if(t){var a={username:e.formItem.username,password:e.formItem.password,name:e.formItem.name,gender:e.formItem.gender,birthday:e.formItem.birthday,residentIdNumber:e.formItem.idCard,email:e.formItem.email,telephone:e.formItem.phone,workplace:e.formItem.workUnit};e.$axios({method:"post",url:"".concat(e.$baseURI,"/api/register/submit"),data:a}).then((function(t){!0===t["data"]["data"]&&(r.$Message.success("注册成功，即将跳转到登录界面"),setTimeout((function(){r.$emit("setRegisterModal",!1),r.$emit("setLoginModal",!0)}),1500))}))}}))},resetForm:function(t){this.$refs[t].resetFields()},gotoLogin:function(){this.$emit("setRegisterModal",!1),this.$emit("setLoginModal",!0)}}}),F=y,w=(r("7b31"),Object(m["a"])(F,h,v,!1,null,"35ebbba4",null)),k=w.exports,x={name:"index",components:{Navbar:u,Login:b,Register:k},data:function(){return{loginModal:!1,registerModal:!1}},methods:{setLoginModal:function(t){this.loginModal=t},setRegisterModal:function(t){this.registerModal=t},setTuretoRegisterModal:function(){this.registerModal=!0}}},M=x,_=(r("1918"),Object(m["a"])(M,a,s,!1,null,"01bfd652",null));e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-0c0a45ec.9e9b952e.js.map