(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ac2f7e5"],{"159b":function(e,t,r){var o=r("da84"),a=r("fdbc"),n=r("17c2"),i=r("9112");for(var s in a){var c=o[s],l=c&&c.prototype;if(l&&l.forEach!==n)try{i(l,"forEach",n)}catch(d){l.forEach=n}}},"17c2":function(e,t,r){"use strict";var o=r("b727").forEach,a=r("a640"),n=r("ae40"),i=a("forEach"),s=n("forEach");e.exports=i&&s?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},"22f2":function(e,t,r){},"25f0":function(e,t,r){"use strict";var o=r("6eeb"),a=r("825a"),n=r("d039"),i=r("ad6d"),s="toString",c=RegExp.prototype,l=c[s],d=n((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),m=l.name!=s;(d||m)&&o(RegExp.prototype,s,(function(){var e=a(this),t=String(e.source),r=e.flags,o=String(void 0===r&&e instanceof RegExp&&!("flags"in c)?i.call(e):r);return"/"+t+"/"+o}),{unsafe:!0})},4160:function(e,t,r){"use strict";var o=r("23e7"),a=r("17c2");o({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"59ca":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Form",{staticStyle:{"margin-top":"5%"},attrs:{model:e.formItem,"label-colon":"","label-width":80}},[r("FormItem",{attrs:{"show-message":"",label:"收件人"}},[r("Input",{attrs:{type:"text"},model:{value:e.formItem.senderAccount,callback:function(t){e.$set(e.formItem,"senderAccount",t)},expression:"formItem.senderAccount"}})],1),r("FormItem",{attrs:{"show-message":"",label:"内容"}},[r("Input",{attrs:{rows:4,type:"textarea"},model:{value:e.formItem.content,callback:function(t){e.$set(e.formItem,"content",t)},expression:"formItem.content"}})],1),r("FormItem",{attrs:{"show-message":""}},[r("Button",{attrs:{type:"primary"},on:{click:e.clickForCheck}},[e._v("确认")]),r("Button",{staticStyle:{"margin-left":"15%"},on:{click:e.closeFatherModal}},[e._v("取消")])],1)],1),r("Modal",{staticStyle:{padding:"20px"},attrs:{"footer-hide":""},model:{value:e.openModal,callback:function(t){e.openModal=t},expression:"openModal"}},[r("Form",{staticStyle:{"margin-top":"5%"},attrs:{model:e.formItem,"label-colon":"","label-width":120}},[r("FormItem",{attrs:{"show-message":"",label:"收件人账号"}},[r("Input",{attrs:{type:"text"},model:{value:e.formItem.senderAccount,callback:function(t){e.$set(e.formItem,"senderAccount",t)},expression:"formItem.senderAccount"}})],1),r("FormItem",{attrs:{"show-message":""}},[r("Button",{attrs:{type:"primary"},on:{click:e.sendMessage}},[e._v("确认")]),r("Button",{staticStyle:{"margin-left":"15%"},on:{click:function(t){e.openModal=!1}}},[e._v("取消")])],1)],1)],1)],1)},a=[],n={name:"WriteMail",props:["sendId"],data:function(){return{formItem:{senderAccount:"",content:""},openModal:!1}},methods:{autoFillAccount:function(){var e=this,t={accountId:e.sendId.account};this.$axios({method:"post",url:"".concat(e.$baseURI,"/api/message/getAccount"),data:t}).then((function(t){e.formItem.senderAccount=t["data"]["username"]}))},clickForCheck:function(){this.openModal=!0},sendMessage:function(){var e=this,t={username:e.formItem.senderAccount,content:e.formItem.content};e.$axios({method:"post",url:"".concat(e.$baseURI,"/api/message/sendByUsername"),data:t}).then((function(t){!0===t["data"]["success"]?(e.$Message.success("发送成功"),e.openModal=!1,e.$emit("closeSendModal",!1)):e.$Message.error(t["data"]["message"])}))},closeFatherModal:function(){this.$emit("closeSendModal",!1)}}},i=n,s=r("0c7c"),c=Object(s["a"])(i,o,a,!1,null,"20d29675",null);t["a"]=c.exports},"65f0":function(e,t,r){var o=r("861d"),a=r("e8b5"),n=r("b622"),i=n("species");e.exports=function(e,t){var r;return a(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?o(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"6d21":function(e,t,r){"use strict";r("22f2")},"72b0":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isCreator?r("CreatorDetail",{attrs:{conferenceId:e.id}}):e.isCreator?e._e():r("ParticipantDetail",{attrs:{conferenceId:e.id}})],1)},a=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Button",{staticStyle:{margin:"0 0 1vw 0"},attrs:{size:"small",icon:"ios-arrow-back"},on:{click:function(t){return e.$router.push("/conference/list")}}},[e._v("返回 ")]),r("br"),r("p",{staticStyle:{"text-indent":"2em","font-weight":"bold"}},[e._v("会议阶段")]),r("Divider"),r("Steps",{attrs:{current:e.currentProgress}},[r("Step",{attrs:{content:"报名阶段"}}),r("Step",{attrs:{content:"报名确认"}}),r("Step",{attrs:{content:"车队，酒店确认"}}),r("Step",{attrs:{content:"会议进行"}}),r("Step",{attrs:{content:"会议结束"}})],1),1===e.currentProgress?r("Button",{staticStyle:{margin:"2vw 1vw 1vw 0"},attrs:{type:"primary"},on:{click:e.confirmConference}},[e._v(" 确认信息 ")]):e._e(),0===e.currentProgress?r("Button",{staticStyle:{margin:"2vw 1vw 1vw 0"},on:{click:e.quickStartNextStep}},[e._v(" 提前结束报名 ")]):e._e(),r("Form",{attrs:{"label-colon":"","label-width":120,model:e.formItem}},[r("Divider"),r("FormItem",{attrs:{label:"会议号"}},[r("Input",{staticStyle:{width:"150px"},attrs:{type:"text",readonly:!0},model:{value:e.formItem.number,callback:function(t){e.$set(e.formItem,"number",t)},expression:"formItem.number"}})],1),r("FormItem",{attrs:{label:"会议名"}},[r("Input",{staticStyle:{width:"150px"},attrs:{type:"text",readonly:!0},model:{value:e.formItem.name,callback:function(t){e.$set(e.formItem,"name",t)},expression:"formItem.name"}})],1),r("FormItem",{attrs:{label:"会议简介"}},[r("Input",{staticClass:"input_size",attrs:{type:"textarea",readonly:!0},model:{value:e.formItem.detail,callback:function(t){e.$set(e.formItem,"detail",t)},expression:"formItem.detail"}})],1),r("FormItem",{attrs:{label:"会议地点"}},[r("Input",{staticClass:"input_size",attrs:{type:"textarea",readonly:!0},model:{value:e.formItem.address,callback:function(t){e.$set(e.formItem,"address",t)},expression:"formItem.address"}})],1),r("FormItem",{attrs:{label:"会议时间"}},[r("DatePicker",{attrs:{readonly:!0},model:{value:e.formItem.startTime,callback:function(t){e.$set(e.formItem,"startTime",t)},expression:"formItem.startTime"}}),e._v(" 至 "),r("DatePicker",{attrs:{readonly:!0},model:{value:e.formItem.endTime,callback:function(t){e.$set(e.formItem,"endTime",t)},expression:"formItem.endTime"}})],1),r("FormItem",{attrs:{label:"报名截止时间"}},[r("DatePicker",{attrs:{readonly:!0},model:{value:e.formItem.enrollTime,callback:function(t){e.$set(e.formItem,"enrollTime",t)},expression:"formItem.enrollTime"}})],1),r("FormItem",{attrs:{label:"报名人数"}},[r("InputNumber",{attrs:{readonly:!0},model:{value:e.formItem.applicants,callback:function(t){e.$set(e.formItem,"applicants",t)},expression:"formItem.applicants"}}),r("Button",{staticStyle:{"margin-left":"1vw"},attrs:{type:"primary"},on:{click:function(t){e.participantModal=!0}}},[e._v("详情")])],1),"ENROLLMENT"===e.formItem.progress?r("div",[r("FormItem",{attrs:{label:"酒店管理"}},[r("Select",{staticClass:"input_size",attrs:{value:e.formItem.hotelId,filterable:""},model:{value:e.formItem.hotelId,callback:function(t){e.$set(e.formItem,"hotelId",t)},expression:"formItem.hotelId"}},e._l(e.hotelList,(function(t,o){return r("Option",{key:o,attrs:{value:o}},[e._v(e._s(t.name))])})),1),r("Button",{staticStyle:{"margin-left":"1vw"},attrs:{type:"primary"},on:{click:e.checkHotel}},[e._v("详情")])],1),r("FormItem",{attrs:{label:"车队管理"}},[r("Select",{staticClass:"input_size",attrs:{value:e.formItem.fleetId,filterable:""},model:{value:e.formItem.fleetId,callback:function(t){e.$set(e.formItem,"fleetId",t)},expression:"formItem.fleetId"}},e._l(e.fleetList,(function(t,o){return r("Option",{key:o,attrs:{value:o}},[e._v(e._s(t.name))])})),1),r("Button",{staticStyle:{"margin-left":"1vw"},attrs:{type:"primary"},on:{click:e.checkFleet}},[e._v("详情")])],1)],1):r("div",[r("FormItem",{attrs:{label:"酒店管理"}},[r("Select",{staticClass:"input_size",attrs:{disabled:"",value:e.formItem.hotelId,filterable:""},model:{value:e.formItem.hotelId,callback:function(t){e.$set(e.formItem,"hotelId",t)},expression:"formItem.hotelId"}},e._l(e.hotelList,(function(t,o){return r("Option",{key:o,attrs:{value:o}},[e._v(e._s(t.name))])})),1),r("Button",{staticStyle:{"margin-left":"1vw"},attrs:{type:"primary"},on:{click:e.checkHotel}},[e._v("详情")])],1),r("FormItem",{attrs:{label:"车队管理"}},[r("Select",{staticClass:"input_size",attrs:{disabled:"",value:e.formItem.fleetId,filterable:""},model:{value:e.formItem.fleetId,callback:function(t){e.$set(e.formItem,"fleetId",t)},expression:"formItem.fleetId"}},e._l(e.fleetList,(function(t,o){return r("Option",{key:o,attrs:{value:o}},[e._v(e._s(t.name))])})),1),r("Button",{staticStyle:{"margin-left":"1vw"},attrs:{type:"primary"},on:{click:e.checkFleet}},[e._v("详情")])],1)],1)],1),r("Modal",{staticStyle:{padding:"20px"},attrs:{width:"30","footer-hide":"","mask-closable":!1},model:{value:e.quickStart,callback:function(t){e.quickStart=t},expression:"quickStart"}},[r("div",[r("h3",{staticStyle:{"text-align":"center"}},[e._v("您要提前结束报名吗？")]),r("hr",{staticStyle:{margin:"5px"}}),r("p",{staticStyle:{"text-indent":"2em","margin-bottom":"5px"}},[e._v(" 确认后将进入会议下一阶段，未参会者将"),r("b",[e._v("无法")]),e._v("参加该会议 ")]),r("Button",{staticClass:"button",attrs:{long:""},on:{click:e.quickConfirmConference}},[e._v(" 确认提前结束报名 ")])],1)]),r("Modal",{staticStyle:{padding:"20px"},attrs:{"footer-hide":"",width:"85",scrollable:"","mask-closable":!1},model:{value:e.participantModal,callback:function(t){e.participantModal=t},expression:"participantModal"}},[r("Participants",{staticStyle:{height:"40vw","overflow-y":"auto","overflow-x":"hidden"},attrs:{participantsInfo:e.participantsInfo,conferenceId:e.conferenceId,currentProgress:e.currentProgress},on:{setCheckParticipants:e.setCheckParticipants}})],1),r("Modal",{staticStyle:{padding:"20px"},attrs:{width:"40","footer-hide":"","mask-closable":!1},model:{value:e.hotelModal,callback:function(t){e.hotelModal=t},expression:"hotelModal"}},[r("HotelDetail",{ref:"hotel"})],1),r("Modal",{staticStyle:{padding:"20px"},attrs:{width:"40","footer-hide":"","mask-closable":!1},model:{value:e.fleetModal,callback:function(t){e.fleetModal=t},expression:"fleetModal"}},[r("FleetDetail",{ref:"fleet"})],1)],1)},i=[],s=(r("4160"),r("b0c0"),r("d3b7"),r("25f0"),r("159b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a",{staticStyle:{"text-indent":"2em"},on:{click:e.arrowBack}},[r("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" 返回")],1),r("Table",{attrs:{columns:this.columns,data:this.participantsInfo,stripe:!0}}),r("Modal",{staticStyle:{padding:"20px"},attrs:{"footer-hide":""},model:{value:e.openWriteMail,callback:function(t){e.openWriteMail=t},expression:"openWriteMail"}},[r("div",{staticStyle:{padding:"5%"}},[r("WriteMail",{ref:"fillAccount",attrs:{"send-id":e.sendMailAccount},on:{closeSendModal:e.closeSendModal}})],1)])],1)}),c=[],l=r("59ca"),d={name:"Participants",components:{WriteMail:l["a"]},data:function(){var e=this;return{columns:[{title:"姓名",key:"name",align:"center"},{title:"手机号",key:"phone",align:"center"},{title:"工作单位",key:"workUnit",align:"center"},{title:"酒店预约",key:"hotelProgress",align:"center",render:function(e,t){return 1===t.row.hotelProgress?e("div",[e("Tag",{props:{color:"success"},style:{marginRight:"5px"}},"已确认")]):e("div",[e("Tag",{props:{color:"#c5c8ce"},style:{marginRight:"5px"}},"待确认")])}},{title:"司机预约",key:"driverProgress",align:"center",render:function(e,t){return 1===t.row.driverProgress?e("div",[e("Tag",{props:{color:"success"},style:{marginRight:"5px"}},"已确认")]):e("div",[e("Tag",{props:{color:"#c5c8ce"},style:{marginRight:"5px"}},"待确认")])}},{title:"账号",key:"account",align:"center"},{title:"发信息",key:"send",width:100,align:"center",render:function(t,r){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.sendMail(r.row.account)}}},"发信息")])}},{title:"删除人员",key:"deleteMember",width:100,align:"center",render:function(t,r){return e.currentProgress<2?t("div",[t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.deleteParticipant(r.row.id)}}},"删除")]):t("div",[t("Button",{props:{type:"error",size:"small",disabled:!0},style:{marginRight:"5px"}},"删除")])}}],conference:[{name:"one",phone:"12312312411",workUnit:"xxx",hotel:"xxx",driveFinish:!0,account:"xxx"}],sendMailAccount:{account:"1233"},openWriteMail:!1}},props:["participantsInfo","conferenceId","currentProgress"],methods:{deleteParticipant:function(e){var t=this;this.$axios({method:"post",url:"".concat(this.$baseURI,"/api/conference/enrollment/remove"),data:{id:t.conferenceId,userId:e}}).then((function(e){!0===e["data"]["success"]?(t.$Message.success("删除成功"),setTimeout((function(){t.$router.go(0)}),500)):t.$Message.error(e["data"]["message"])}))},arrowBack:function(){this.$emit("setCheckParticipants",!1)},closeSendModal:function(e){this.openWriteMail=e},sendMail:function(e){this.sendMailAccount.account=e,this.$refs.fillAccount.autoFillAccount(),this.openWriteMail=!0}}},m=d,f=r("0c7c"),u=Object(f["a"])(m,s,c,!1,null,"8453d9ca",null),p=u.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Form",{staticStyle:{"margin-top":"5%"},attrs:{model:e.formItem,"label-colon":"","label-width":80}},[r("FormItem",{attrs:{label:"名称"}},[r("label",[r("Input",{staticStyle:{width:"90%"},attrs:{type:"text",readonly:!0},model:{value:e.formItem.name,callback:function(t){e.$set(e.formItem,"name",t)},expression:"formItem.name"}})],1)]),r("FormItem",{attrs:{label:"账号"}},[r("label",[r("Input",{staticStyle:{width:"90%"},attrs:{type:"text",readonly:!0},model:{value:e.formItem.account,callback:function(t){e.$set(e.formItem,"account",t)},expression:"formItem.account"}})],1)]),r("FormItem",{attrs:{label:"联系方式"}},[r("label",[r("Input",{staticStyle:{width:"60%"},attrs:{type:"text",readonly:!0},model:{value:e.formItem.phone,callback:function(t){e.$set(e.formItem,"phone",t)},expression:"formItem.phone"}})],1)]),r("FormItem",{attrs:{label:"地址"}},[r("label",[r("Input",{staticStyle:{width:"90%"},attrs:{type:"textarea",readonly:!0},model:{value:e.formItem.address,callback:function(t){e.$set(e.formItem,"address",t)},expression:"formItem.address"}})],1)]),r("FormItem",{attrs:{label:"简介"}},[r("label",[r("Input",{staticStyle:{width:"90%"},attrs:{type:"textarea",readonly:!0},model:{value:e.formItem.detail,callback:function(t){e.$set(e.formItem,"detail",t)},expression:"formItem.detail"}})],1)]),r("FormItem",[1===e.progress?r("Button",{attrs:{type:"primary"},on:{click:e.submitSelection}},[e._v("选择此酒店")]):e._e()],1)],1)],1)},I=[],v={name:"HotelDetail",data:function(){return{formItem:{name:"",account:"",phone:"",address:"",detail:""},conferenceId:0,progress:0,hotelId:0}},props:[],methods:{loadData:function(e,t,r,o){this.formItem=e,this.conferenceId=t,this.progress=r,this.hotelId=o},submitSelection:function(){var e=this;this.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/chooseHotel"),data:{id:e.conferenceId,hotelId:parseInt(e.hotelId)}}).then((function(t){!0===t["data"]["success"]?(e.$Message.success("选择成功"),e.arrowBack()):e.$Message.error(t["data"]["message"])}))}}},b=v,g=Object(f["a"])(b,h,I,!1,null,"2c1b703f",null),y=g.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Form",{staticStyle:{"margin-top":"5%"},attrs:{model:e.formItem,"label-colon":"","label-width":80}},[r("FormItem",{attrs:{label:"车队名"}},[r("label",[r("Input",{staticStyle:{width:"90%"},attrs:{type:"text",readonly:!0},model:{value:e.formItem.name,callback:function(t){e.$set(e.formItem,"name",t)},expression:"formItem.name"}})],1)]),r("FormItem",{attrs:{label:"联系方式"}},[r("label",[r("Input",{staticStyle:{width:"90%"},attrs:{type:"text",readonly:!0},model:{value:e.formItem.phone,callback:function(t){e.$set(e.formItem,"phone",t)},expression:"formItem.phone"}})],1)]),r("FormItem",{attrs:{label:"司机人数"}},[r("label",[r("Input",{staticStyle:{width:"80px"},attrs:{type:"number",readonly:!0},model:{value:e.formItem.driverAmount,callback:function(t){e.$set(e.formItem,"driverAmount",t)},expression:"formItem.driverAmount"}})],1)]),r("FormItem",{attrs:{label:"简介"}},[r("label",[r("Input",{staticStyle:{width:"90%"},attrs:{type:"textarea",readonly:!0},model:{value:e.formItem.detail,callback:function(t){e.$set(e.formItem,"detail",t)},expression:"formItem.detail"}})],1)]),r("FormItem",[1===e.progress?r("Button",{attrs:{type:"primary"},on:{click:e.submitSelection}},[e._v("选择此车队")]):e._e()],1)],1)],1)},x=[],S={name:"FleetDetail",data:function(){return{formItem:{name:"",phone:"",driverAmount:"",detail:""},conferenceId:0,progress:0,fleetId:0}},props:[],methods:{loadData:function(e,t,r,o){this.formItem=e,this.conferenceId=t,this.progress=r,this.fleetId=o},submitSelection:function(){var e=this;this.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/chooseFleet"),data:{id:e.conferenceId,fleetId:parseInt(e.fleetId)}}).then((function(t){!0===t["data"]["success"]?(e.$Message.success("选择成功"),e.arrowBack()):e.$Message.error(t["data"]["message"])}))}}},$=S,M=Object(f["a"])($,k,x,!1,null,"3db06f0c",null),w=M.exports,T={name:"CreatorDetail",components:{Participants:p,HotelDetail:y,FleetDetail:w},data:function(){return{currentProgress:0,quickStart:!1,formItem:{},hotelList:{0:{id:"123",account:"",name:"帆船酒店",address:"address",detail:"detail",phone:""}},fleetList:{0:{name:"测试车队",address:"address",detail:"detail",phone:"",driverAmount:0}},participantsInfo:[],participantModal:!1,hotelModal:!1,fleetModal:!1}},props:["conferenceId"],created:function(){this.loading=2,this.loadConferenceInfo(),this.loadHotelInfo(),this.loadDriverInfo(),this.loadParticipantsInfo()},methods:{loadConferenceInfo:function(){var e=this;this.$axios({method:"post",url:"".concat(this.$baseURI,"/api/conference/getById"),data:{id:e.conferenceId}}).then((function(t){var r=t["data"];e.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/participant/count"),data:{id:e.conferenceId}}).then((function(t){switch(e.formItem={number:r["number"],name:r["name"],detail:r["detail"],startTime:new Date(r["startTime"]),endTime:new Date(r["endTime"]),enrollTime:new Date(r["enrollTime"]),address:r["address"],hotelId:null!=r["hotelId"]?r["hotelId"].toString():null,fleetId:null!=r["fleetId"]?r["fleetId"].toString():null,applicants:t["data"]["amount"],progress:r["progress"]},r["progress"]){case"ENROLLMENT":e.currentProgress=0;break;case"OWNER_CONFIRM":e.currentProgress=1;break;case"RESERVATION_CONFIRM":e.currentProgress=2;break;case"READY":e.currentProgress=3;break;case"ENDED":e.currentProgress=4;break}}))}))},loadHotelInfo:function(){var e=this;this.$axios({method:"post",url:"".concat(this.$baseURI,"/api/hotel/getAll")}).then((function(t){e.hotelList={},t["data"].forEach((function(t){e.hotelList[t["id"]]={account:t["accountId"],name:t["name"],address:t["address"],detail:t["detail"],phone:t["telephone"]}}))}))},loadDriverInfo:function(){var e=this;this.$axios({method:"post",url:"".concat(this.$baseURI,"/api/fleet/getAll")}).then((function(t){e.fleetList={},t["data"].forEach((function(t){e.fleetList[t["id"]]={name:t["name"],address:t["address"],detail:t["detail"],phone:t["telephone"],driverAmount:t["driverAmount"]}}))}))},loadParticipantsInfo:function(){var e=this;this.$axios({method:"post",url:"".concat(this.$baseURI,"/api/conference/participant/get"),data:{id:e.conferenceId}}).then((function(t){e.participantsInfo=[],t["data"].forEach((function(t){var r={id:t["id"],name:t["name"],phone:t["telephone"],workUnit:t["workplace"],hotelProgress:"",driverProgress:"",account:t["accountId"]};e.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/hotelReservation/get"),data:{id:e.conferenceId,userId:r.id}}).then((function(e){!0===e["data"]["hotelCheck"]?r.hotelProgress=1:r.hotelProgress=0})),e.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/driverReservation/get"),data:{id:e.conferenceId,userId:r.id}}).then((function(e){!0===e["data"]["driverCheck"]?r.driverProgress=1:r.driverProgress=0})),e.participantsInfo.push(r)}))}))},confirmConference:function(){var e=this;this.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/confirm"),data:{id:e.conferenceId}}).then((function(t){!0===t["data"]["success"]?(e.$Message.success("确认成功"),setTimeout((function(){e.$router.go(0)}),300)):e.$Message.error(t["data"]["message"])}))},quickStartNextStep:function(){this.quickStart=!0},quickConfirmConference:function(){var e=this;this.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/terminateEnrollment"),data:{id:e.conferenceId}}).then((function(t){!0===t["data"]["success"]?(e.$Message.success("确认成功"),e.$router.go(0)):e.$Message.error(t["data"]["message"])}))},checkHotel:function(){null!=this.formItem.hotelId&&(this.$refs.hotel.loadData(this.hotelList[this.formItem.hotelId],this.currentProgress),this.hotelModal=!0)},checkFleet:function(){null!=this.formItem.fleetId&&(this.$refs.fleet.loadData(this.fleetList[this.formItem.fleetId],this.currentProgress),this.fleetModal=!0)},selectDriver:function(e,t){var r=this;this.$axios({method:"post",url:"".concat(r.$baseURI,"/api/conference/chooseFleet"),data:{id:e,fleetId:t}}).then((function(e){!0===e["data"]["success"]?r.$Message.success("选择车队成功"):r.$Message.error(e["data"]["message"])}))},selectHotel:function(e,t){var r=this;this.$axios({method:"post",url:"".concat(r.$baseURI,"/api/conference/chooseHotel"),data:{id:e,hotelId:t}}).then((function(e){!0===e["data"]["success"]?r.$Message.success("选择酒店成功"):r.$Message.error(e["data"]["message"])}))},setCheckParticipants:function(e){this.participantModal=e}},computed:{fleetId:function(){return this.formItem.fleetId},hotelId:function(){return this.formItem.hotelId}},watch:{fleetId:function(){this.loading--,this.loading<0&&this.selectDriver(this.conferenceId,this.fleetId)},hotelId:function(){this.loading--,this.loading<0&&this.selectHotel(this.conferenceId,this.hotelId)}}},_=T,F=(r("6d21"),Object(f["a"])(_,n,i,!1,null,"e7e48440",null)),P=F.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Button",{staticStyle:{margin:"0 0 1vw 0"},attrs:{size:"small",icon:"ios-arrow-back"},on:{click:function(t){return e.$router.push("/conference/list")}}},[e._v("返回 ")]),r("br"),r("p",{staticStyle:{"text-indent":"2em","font-weight":"bold"}},[e._v("会议阶段")]),r("Divider"),r("Steps",{attrs:{current:e.currentProgress}},[r("Step",{attrs:{content:"报名阶段"}}),r("Step",{attrs:{content:"报名确认"}}),r("Step",{attrs:{content:"车队，酒店确认"}}),r("Step",{attrs:{content:"会议进行"}}),r("Step",{attrs:{content:"会议结束"}})],1),r("Divider"),r("div",[r("Form",{attrs:{model:e.conferenceInfo,"label-colon":"","label-width":120}},[r("Form",{attrs:{inline:"","label-colon":"","label-width":120}},[r("FormItem",{attrs:{label:"会议名"}},[r("Input",{staticStyle:{width:"150px"},attrs:{type:"text",readonly:!0},model:{value:e.conferenceInfo.name,callback:function(t){e.$set(e.conferenceInfo,"name",t)},expression:"conferenceInfo.name"}})],1),r("FormItem",{attrs:{label:"会议号"}},[r("Input",{staticStyle:{width:"150px"},attrs:{type:"text",readonly:!0},model:{value:e.conferenceId,callback:function(t){e.conferenceId=t},expression:"conferenceId"}})],1)],1),r("FormItem",{attrs:{label:"创建人"}},[r("Input",{staticStyle:{width:"150px"},attrs:{type:"text",readonly:!0},model:{value:e.conferenceInfo.creatorName,callback:function(t){e.$set(e.conferenceInfo,"creatorName",t)},expression:"conferenceInfo.creatorName"}}),r("Poptip",{attrs:{trigger:"hover"}},[r("Tag",{staticStyle:{"margin-left":"1vw"},attrs:{size:"large",color:"primary"}},[e._v("详情")]),r("div",{staticStyle:{overflow:"hidden"},attrs:{slot:"content"},slot:"content"},[e._v(" 手机号: "+e._s(e.conferenceInfo.creatorPhone)+" "),r("Divider",{staticStyle:{margin:"10px"}}),e._v(" 邮箱："+e._s(e.conferenceInfo.creatorEmail)+" ")],1)],1),r("Button",{staticStyle:{"margin-left":"1vw"},attrs:{type:"primary"},on:{click:function(t){return e.sendMail()}}},[r("Icon",{attrs:{size:"24",type:"ios-mail"}})],1)],1),r("FormItem",{attrs:{label:"会议简介"}},[r("Input",{staticClass:"input_size",attrs:{type:"textarea",readonly:!0},model:{value:e.conferenceInfo.detail,callback:function(t){e.$set(e.conferenceInfo,"detail",t)},expression:"conferenceInfo.detail"}})],1),r("FormItem",{attrs:{label:"会议时间"}},[r("DatePicker",{attrs:{readonly:!0},model:{value:e.conferenceInfo.startTime,callback:function(t){e.$set(e.conferenceInfo,"startTime",t)},expression:"conferenceInfo.startTime"}}),e._v(" 至 "),r("DatePicker",{attrs:{readonly:!0},model:{value:e.conferenceInfo.endTime,callback:function(t){e.$set(e.conferenceInfo,"endTime",t)},expression:"conferenceInfo.endTime"}})],1),r("FormItem",{attrs:{label:"会议地点"}},[r("Input",{staticClass:"input_size",attrs:{type:"textarea",readonly:!0},model:{value:e.conferenceInfo.address,callback:function(t){e.$set(e.conferenceInfo,"address",t)},expression:"conferenceInfo.address"}})],1),r("FormItem",{attrs:{label:"报名截止时间"}},[r("DatePicker",{attrs:{readonly:!0},model:{value:e.conferenceInfo.enrollTime,callback:function(t){e.$set(e.conferenceInfo,"enrollTime",t)},expression:"conferenceInfo.enrollTime"}}),1===e.conferenceInfo.enrollStatus?r("Tag",{staticStyle:{"margin-left":"1vw"},attrs:{size:"large",color:"primary"}},[e._v(" 进行中 ")]):r("Tag",{staticStyle:{"margin-left":"1vw"},attrs:{size:"large"}},[e._v(" 已结束 ")])],1)],1),r("Modal",{staticStyle:{padding:"20px"},attrs:{"footer-hide":""},model:{value:e.openWriteMail,callback:function(t){e.openWriteMail=t},expression:"openWriteMail"}},[r("div",{staticStyle:{padding:"5%"}},[r("WriteMail",{ref:"fillAccount",attrs:{"send-id":e.sendMailAccount},on:{closeSendModal:e.closeSendModal}})],1)]),r("Card",{staticClass:"card_size",attrs:{"dis-hover":"",title:"行程信息："+e.driverInfo.statusMessage}},[r("Form",{attrs:{"label-colon":"","label-width":120}},[r("FormItem",{attrs:{label:"我的车次/航班"}},[r("Input",{attrs:{type:"text",readonly:!0},model:{value:e.driverInfo.tripNumber,callback:function(t){e.$set(e.driverInfo,"tripNumber",t)},expression:"driverInfo.tripNumber"}})],1),r("FormItem",{attrs:{label:"我的到达时间","label-width":120}},[r("DatePicker",{attrs:{type:"datetime",readonly:!0},model:{value:e.driverInfo.arriveTime,callback:function(t){e.$set(e.driverInfo,"arriveTime",t)},expression:"driverInfo.arriveTime"}})],1),e.driverInfo.status>=1?r("div",[r("FormItem",{attrs:{label:"接车司机","label-width":120}},[r("Input",{staticStyle:{width:"120px"},attrs:{type:"text",readonly:!0},model:{value:e.driverInfo.driverName,callback:function(t){e.$set(e.driverInfo,"driverName",t)},expression:"driverInfo.driverName"}}),r("Poptip",{attrs:{trigger:"hover"}},[r("Tag",{staticStyle:{"margin-left":"1vw"},attrs:{size:"large",color:"primary"}},[e._v("详情")]),r("div",{staticStyle:{overflow:"hidden"},attrs:{slot:"content"},slot:"content"},[e._v(" 账号: "+e._s(e.driverInfo.driverAccount)+" "),r("Divider",{staticStyle:{margin:"10px"}}),e._v(" 手机号: "+e._s(e.driverInfo.driverPhone)+" ")],1)],1)],1),r("FormItem",{attrs:{label:"接车时间","label-width":120}},[r("DatePicker",{attrs:{type:"datetime",readonly:!0},model:{value:e.driverInfo.pickupTime,callback:function(t){e.$set(e.driverInfo,"pickupTime",t)},expression:"driverInfo.pickupTime"}})],1),r("Form",{attrs:{"label-colon":"","label-width":120}},[r("FormItem",{attrs:{label:"接车地点","label-width":120}},[r("Input",{attrs:{type:"text",readonly:!0},model:{value:e.driverInfo.pickupSite,callback:function(t){e.$set(e.driverInfo,"pickupSite",t)},expression:"driverInfo.pickupSite"}})],1),r("FormItem",{attrs:{label:"车牌号","label-width":120}},[r("Input",{staticStyle:{width:"120px"},attrs:{type:"text",readonly:!0},model:{value:e.driverInfo.carNumber,callback:function(t){e.$set(e.driverInfo,"carNumber",t)},expression:"driverInfo.carNumber"}})],1)],1),1===e.driverInfo.status?r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:e.confirmDriver}},[e._v("确认接车")])],1):e._e()],1):e._e()],1)],1),r("br"),r("Card",{staticClass:"card_size",attrs:{"dis-hover":"",title:"住宿信息:"+e.hotelInfo.statusMessage}},[r("Form",{attrs:{"label-colon":"","label-width":120}},[r("FormItem",{attrs:{label:"住宿时间",inline:""}},[r("DatePicker",{attrs:{readonly:!0},model:{value:e.hotelInfo.stayStartTime,callback:function(t){e.$set(e.hotelInfo,"stayStartTime",t)},expression:"hotelInfo.stayStartTime"}}),r("br"),e._v("至"),r("br"),r("DatePicker",{attrs:{readonly:!0},model:{value:e.hotelInfo.stayEndTime,callback:function(t){e.$set(e.hotelInfo,"stayEndTime",t)},expression:"hotelInfo.stayEndTime"}})],1),e.hotelInfo.status>=1?r("div",[r("FormItem",{attrs:{label:"住宿酒店","label-width":120}},[r("Input",{staticStyle:{width:"75%"},attrs:{type:"text",readonly:!0},model:{value:e.hotelInfo.hotelName,callback:function(t){e.$set(e.hotelInfo,"hotelName",t)},expression:"hotelInfo.hotelName"}}),r("Poptip",{attrs:{trigger:"hover"}},[r("Tag",{staticStyle:{"margin-left":"1vw"},attrs:{size:"large",color:"primary"}},[e._v("详情")]),r("div",{staticStyle:{overflow:"hidden"},attrs:{slot:"content"},slot:"content"},[e._v(" 账号: "+e._s(e.hotelInfo.hotelAccount)+" "),r("Divider",{staticStyle:{margin:"10px"}}),e._v(" 电话: "+e._s(e.hotelInfo.hotelPhone)+" "),r("Divider",{staticStyle:{margin:"10px"}}),e._v(" 地址: "+e._s(e.hotelInfo.hotelAddress)+" ")],1)],1)],1),r("FormItem",{attrs:{label:"入住时间",inline:""}},[r("DatePicker",{attrs:{readonly:!0},model:{value:e.hotelInfo.checkinTime,callback:function(t){e.$set(e.hotelInfo,"checkinTime",t)},expression:"hotelInfo.checkinTime"}})],1),r("FormItem",{attrs:{label:"房间号"}},[r("Input",{staticStyle:{width:"50px"},attrs:{type:"text",readonly:!0},model:{value:e.hotelInfo.roomNumber,callback:function(t){e.$set(e.hotelInfo,"roomNumber",t)},expression:"hotelInfo.roomNumber"}})],1),1===e.hotelInfo.status?r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:e.confirmHotel}},[e._v("确认入住")])],1):e._e()],1):e._e()],1)],1)],1)],1)},R=[],E={name:"ParticipantDetail",components:{WriteMail:l["a"]},data:function(){return{currentProgress:0,conferenceInfo:{name:"",creatorName:"",creatorPhone:"",creatorEmail:"",detail:"",address:"",startTime:"",endTime:"",enrollTime:"",enrollStatus:0},sendMailAccount:{account:"1233"},hotelInfo:{status:1,statusMessage:"住宿信息: 待用户确认",stayStartTime:"",stayEndTime:"",hotelAccount:"",hotelName:"",hotelPhone:"",hotelAddress:"",checkinTime:"",roomNumber:""},driverInfo:{status:1,statusMessage:"行程信息: 待用户确认",tripNumber:"",arriveTime:new Date,driverAccount:"",driverName:"",driverPhone:"",pickupTime:new Date,pickupSite:"",carNumber:""},openWriteMail:!1}},props:["conferenceId"],created:function(){},mounted:function(){this.loadConferenceInfo(),this.loadEnrollmentInfo(),this.loadDriverInfo(),this.loadHotelInfo()},methods:{loadConferenceInfo:function(){var e=this;this.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/getById"),data:{id:e.conferenceId}}).then((function(t){var r=t["data"];switch(e.conferenceInfo.name=r["name"],e.conferenceInfo.startTime=r["startTime"],e.conferenceInfo.endTime=r["endTime"],e.conferenceInfo.detail=r["detail"],e.conferenceInfo.address=r["address"],e.conferenceInfo.enrollTime=new Date(r["enrollTime"]),r["progress"]){case"ENROLLMENT":e.currentProgress=0;break;case"OWNER_CONFIRM":e.currentProgress=1;break;case"RESERVATION_CONFIRM":e.currentProgress=2;break;case"READY":e.currentProgress=3;break;case"ENDED":e.currentProgress=4;break}"ENROLLMENT"===e.conferenceInfo.enrollStatus?e.conferenceInfo.enrollStatus=1:e.conferenceInfo.enrollStatus=0,e.$axios({method:"post",url:"".concat(e.$baseURI,"/api/user/profile/getById"),data:{id:r["userId"]}}).then((function(t){var r=t["data"];e.conferenceInfo.creatorName=r["name"],e.conferenceInfo.creatorPhone=r["telephone"],e.conferenceInfo.creatorEmail=r["email"],e.sendMailAccount.account=r["accountId"],e.conferenceInfo.enrollStatus=r["progress"]}))}))},loadEnrollmentInfo:function(){var e=this;this.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/enrollment"),data:{id:e.conferenceId}}).then((function(t){var r=t["data"];e.driverInfo.tripNumber=r["tripNumber"],e.driverInfo.arriveTime=new Date(r["arriveTime"]),e.hotelInfo.stayStartTime=new Date(r["stayStart"]),e.hotelInfo.stayEndTime=new Date(r["stayEnd"])}))},loadDriverInfo:function(){var e=this;this.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/driverReservation"),data:{id:e.conferenceId}}).then((function(t){var r=t["data"];!0===r["driverCheck"]?(e.driverInfo.status=1,e.driverInfo.statusMessage="司机已确认",e.driverInfo.pickupTime=r["pickupTime"],e.driverInfo.arriveTime=r["reserveTime"],e.driverInfo.pickupSite=r["pickupSite"],e.driverInfo.carNumber=r["carNumber"],e.$axios({method:"post",url:"".concat(e.$baseURI,"/api/driver/getById"),data:{id:r["driverId"]}}).then((function(t){var r=t["data"];e.driverInfo.driverAccount=r["accountId"],e.driverInfo.driverName=r["name"],e.driverInfo.driverPhone=r["telephone"]}))):(e.driverInfo.status=0,e.driverInfo.statusMessage="待司机接单")}))},loadHotelInfo:function(){var e=this;this.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/hotelReservation"),data:{id:e.conferenceId}}).then((function(t){var r=t["data"];!0===r["hotelCheck"]?(e.hotelInfo.status=1,e.hotelInfo.statusMessage="酒店已确认",e.hotelInfo.checkinTime=new Date(r["checkinTime"]),e.hotelInfo.roomNumber=null===r["roomNumber"]?"":r["roomNumber"],e.$axios({method:"post",url:"".concat(e.$baseURI,"/api/hotel/get"),data:{id:r["hotelId"]}}).then((function(t){var r=t["data"];e.hotelInfo.hotelAccount=r["accountId"],e.hotelInfo.hotelName=r["name"],e.hotelInfo.hotelPhone=r["telephone"],e.hotelInfo.hotelAddress=r["address"]}))):(e.hotelInfo.status=0,e.hotelInfo.statusMessage="待酒店接单")}))},confirmDriver:function(){var e=this;this.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/driverReservation/check"),data:{id:this.conferenceId}}).then((function(t){!0===t["data"]["success"]?(e.$Message.success("确认成功"),setTimeout((function(){e.$router.go(0)}),500)):e.$Message.error(t["data"]["message"])}))},confirmHotel:function(){var e=this;this.$axios({method:"post",url:"".concat(e.$baseURI,"/api/conference/hotelReservation/check"),data:{id:this.conferenceId}}).then((function(t){!0===t["data"]["success"]?(e.$Message.success("确认成功"),setTimeout((function(){e.$router.go(0)}),500)):e.$Message.error(t["data"]["message"])}))},closeSendModal:function(e){this.openWriteMail=e},sendMail:function(){console.log(this.sendMailAccount.account),this.$refs.fillAccount.autoFillAccount(),this.openWriteMail=!0}}},N=E,A=(r("cdd8"),Object(f["a"])(N,D,R,!1,null,"1c76f734",null)),C=A.exports,L={name:"Detail",components:{CreatorDetail:P,ParticipantDetail:C},data:function(){return{id:0,isCreator:!0}},created:function(){this.initData()},methods:{initData:function(){var e=this;this.id=this.$route.params.id;var t={id:this.id};this.$axios({method:"post",url:"".concat(this.$baseURI,"/api/user/conference/created/checkById"),data:t}).then((function(t){e.isCreator=t["data"]["result"]}))}}},B=L,U=Object(f["a"])(B,o,a,!1,null,"4b00715b",null);t["default"]=U.exports},a640:function(e,t,r){"use strict";var o=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&o((function(){r.call(null,t||function(){throw 1},1)}))}},ad6d:function(e,t,r){"use strict";var o=r("825a");e.exports=function(){var e=o(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,r){var o=r("83ab"),a=r("d039"),n=r("5135"),i=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(n(s,e))return s[e];t||(t={});var r=[][e],l=!!n(t,"ACCESSORS")&&t.ACCESSORS,d=n(t,0)?t[0]:c,m=n(t,1)?t[1]:void 0;return s[e]=!!r&&!a((function(){if(l&&!o)return!0;var e={length:-1};l?i(e,1,{enumerable:!0,get:c}):e[1]=1,r.call(e,d,m)}))}},b0c0:function(e,t,r){var o=r("83ab"),a=r("9bf2").f,n=Function.prototype,i=n.toString,s=/^\s*function ([^ (]*)/,c="name";o&&!(c in n)&&a(n,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(e){return""}}})},b727:function(e,t,r){var o=r("0366"),a=r("44ad"),n=r("7b0b"),i=r("50c4"),s=r("65f0"),c=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,d=4==e,m=6==e,f=5==e||m;return function(u,p,h,I){for(var v,b,g=n(u),y=a(g),k=o(p,h,3),x=i(y.length),S=0,$=I||s,M=t?$(u,x):r?$(u,0):void 0;x>S;S++)if((f||S in y)&&(v=y[S],b=k(v,S,g),e))if(t)M[S]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:c.call(M,v)}else if(d)return!1;return m?-1:l||d?d:M}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},cdd8:function(e,t,r){"use strict";r("fb15")},e8b5:function(e,t,r){var o=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}},fb15:function(e,t,r){},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-1ac2f7e5.365fde8e.js.map