(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42c660b1"],{"1dde":function(e,t,r){var a=r("d039"),n=r("b622"),o=r("2d00"),s=n("species");e.exports=function(e){return o>=51||!a((function(){var t=[],r=t.constructor={};return r[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var a=r("1d80"),n=r("5899"),o="["+n+"]",s=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),c=function(e){return function(t){var r=String(a(t));return 1&e&&(r=r.replace(s,"")),2&e&&(r=r.replace(i,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},"65f0":function(e,t,r){var a=r("861d"),n=r("e8b5"),o=r("b622"),s=o("species");e.exports=function(e,t){var r;return n(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?a(r)&&(r=r[s],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},7156:function(e,t,r){var a=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var o,s;return n&&"function"==typeof(o=t.constructor)&&o!==r&&a(s=o.prototype)&&s!==r.prototype&&n(e,s),e}},"7c54":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Card",{style:{padding:"24px",margin:"auto auto auto 15vw"},attrs:{"dis-hover":"",bordered:!1}},[r("div",{attrs:{id:"Profile"}},[r("Content",[r("div",[r("List",{staticClass:"List",staticStyle:{"margin-top":"5%","text-align":"center"},attrs:{header:"个人资料",border:""}},[r("ListItem",{staticClass:"ListItem"},[r("a",[e._v(" 头像 ")])]),e._l(e.listItem.personalData,(function(t,a){return r("ListItem",{key:a,staticClass:"ListItem",attrs:{value:t},model:{value:e.userData[t],callback:function(r){e.$set(e.userData,t,r)},expression:"userData[value]"}},[r("a",{on:{click:function(r){return e.gotoChange(t,a)}}},[r("div",{staticClass:"set_margin"},[e._v(e._s(t))]),r("div",[e._v(e._s(e.userData[a]))])])])}))],2),r("br"),r("br"),r("List",{staticClass:"List",staticStyle:{"text-align":"center"},attrs:{header:"联系信息",border:""}},e._l(e.listItem.contactInformation,(function(t,a){return r("ListItem",{key:a,staticClass:"ListItem",attrs:{value:t}},[r("a",{on:{click:function(r){return e.gotoChange(t,a)}}},[r("div",{staticClass:"set_margin"},[e._v(e._s(t))]),r("div",[e._v(e._s(e.userData[a]))])])])})),1)],1)]),r("Modal",{attrs:{"footer-hide":"","mask-closable":!1},model:{value:e.modelInfo.changeModal,callback:function(t){e.$set(e.modelInfo,"changeModal",t)},expression:"modelInfo.changeModal"}},[r("ChangeInfo",{attrs:{userData:e.userData,modelInfo:e.modelInfo},on:{gotoProfile:e.gotoProfile}})],1)],1)])},n=[],o=(r("99af"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Form",{ref:"formItem",staticStyle:{"margin-top":"5%"},attrs:{"hide-required-mark":"",rules:e.fromValidate,model:e.formItem}},[r("h2",{staticStyle:{"text-align":"center"}},[e._v("修改"+e._s(e.modelInfo.changedTitle))]),r("FormItem",{attrs:{"show-message":"",label:e.modelInfo.changedTitle}},[r("Input",{attrs:{disabled:"",placeholder:e.userData[e.modelInfo.changedType]}})],1),"password"===e.modelInfo.changedType?r("FormItem",{attrs:{label:"新密码",prop:"password"}},[r("Input",{attrs:{type:"password",password:"",placeholder:"长度为8-32, 需包含字母和数字"},model:{value:e.formItem.newInfo,callback:function(t){e.$set(e.formItem,"newInfo",t)},expression:"formItem.newInfo"}})],1):e._e(),"password"===e.modelInfo.changedType?r("FormItem",{attrs:{label:"确认密码",prop:"passwordCheck"}},[r("Input",{attrs:{type:"password",password:"",placeholder:"重复上述的密码"},model:{value:e.formItem.passwordCheck,callback:function(t){e.$set(e.formItem,"passwordCheck",t)},expression:"formItem.passwordCheck"}})],1):"gender"===e.modelInfo.changedType?r("FormItem",{attrs:{label:"性别",prop:"gender"}},[r("RadioGroup",{model:{value:e.formItem.newInfo,callback:function(t){e.$set(e.formItem,"newInfo",t)},expression:"formItem.newInfo"}},[r("Radio",{attrs:{label:"MALE"}},[e._v("男")]),r("Radio",{attrs:{label:"FEMALE"}},[e._v("女")])],1)],1):"birthday"===e.modelInfo.changedType?r("FormItem",{attrs:{label:"生日",prop:"birthday"}},[r("DatePicker",{attrs:{type:"date"},model:{value:e.formItem.newInfo,callback:function(t){e.$set(e.formItem,"newInfo",t)},expression:"formItem.newInfo"}})],1):r("FormItem",{attrs:{label:"新的"+e.modelInfo.changedTitle,prop:e.modelInfo.changedType}},[r("Input",{model:{value:e.formItem.newInfo,callback:function(t){e.$set(e.formItem,"newInfo",t)},expression:"formItem.newInfo"}})],1),r("FormItem",[r("Button",{staticStyle:{float:"right","margin-left":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm(e.modelInfo.changedType)}}},[e._v("修改 ")]),r("Button",{staticStyle:{float:"right"},attrs:{type:"text"},on:{click:function(t){return e.cancelButton()}}},[e._v("取消")])],1)],1)],1)}),s=[],i=(r("a9e3"),{name:"ChangeInfo",data:function(){var e=this,t=function(t,r,a){return r!==e.formItem.password?a(new Error("密码验证不一致")):a()},r=function(t,r,a){e.$axios({method:"post",url:e.$baseURI+"/api/register/checkUsername",data:{username:r}}).then((function(e){!1===e["data"]["data"]?a(new Error("用户名重复")):a()}))};return{formItem:{newInfo:"",passwordCheck:""},fromValidate:{username:[{required:!0,message:"新用户名不能为空",trigger:"blur"},{validator:r,trigger:"blur"}],password:[{required:!0,message:"新密码不能为空",trigger:"blur"},{type:"string",min:8,message:"密码至少需8位",trigger:"blur"},{type:"string",max:32,message:"密码最多32位",trigger:"blur"},{pattern:/(?=.*[0-9])(?=.*[a-zA-Z])/,message:"密码需包含字母和数字",trigger:"blur"}],passwordCheck:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{validator:t,trigger:"blur"}],name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"blur"}],birthday:[{required:!0,message:"生日不能为空",trigger:"blur"}],idCard:[{required:!0,message:"身份证号不能为空",trigger:"blur"},{pattern:/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"身份证号不合法",trigger:"blur"}],workUnit:"",phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^[1][0-9]{10}$/,message:"手机号不合法",trigger:"blur"}]}}},props:["userData","modelInfo"],methods:{resetForm:function(){this.formItem.newInfo="",this.formItem.newAge=Number,this.formItem.passwordCheck=""},cancelButton:function(){this.$emit("gotoProfile",!1),this.resetForm()},submitForm:function(e){var t=this,r={name:"name"===e?this.formItem.newInfo:this.userData.name,gender:"gender"===e?this.formItem.newInfo:this.userData.gender,birthday:"birthday"===e?this.formItem.newInfo.toDateString():this.userData.birthday.toDateString(),residentIdNumber:"idCard"===e?this.formItem.newInfo:this.userData.idCard,email:"email"===e?this.formItem.newInfo:this.userData.email,telephone:"phone"===e?this.formItem.newInfo:this.userData.phone,workplace:"workUnit"===e?this.formItem.newInfo:this.userData.workUnit};this.$axios({method:"post",url:"".concat(this.$baseURI,"/api/user/profile/modify"),data:r}).then((function(e){!0===e["data"]["success"]?t.$Message.success("修改成功"):t.$Message.error(e["data"]["message"])}))}}}),c=i,u=r("0c7c"),l=Object(u["a"])(c,o,s,!1,null,"5e3247e1",null),f=l.exports,d={name:"Profile",components:{ChangeInfo:f},data:function(){return{userData:{name:"xxx",birthday:"xxx",gender:"xxx",password:"●●●●●●●●●●●●",account:"xxx",email:"xxx",phone:"xxx",idCard:"",workUnit:""},listItem:{personalData:{name:"名称",birthday:"生日",gender:"性别",password:"密码"},contactInformation:{account:"账号",email:"邮箱",phone:"电话"}},modelInfo:{changedTitle:"名字",changedType:"name",changeModal:!1}}},mounted:function(){this.getProfile()},methods:{gotoProfile:function(e){this.modelInfo.changeModal=e},gotoChange:function(e,t){console.log("".concat(e," ").concat(t)),"account"!==t&&(this.modelInfo.changedTitle=e,this.modelInfo.changedType=t,this.modelInfo.changeModal=!0)},getProfile:function(){var e=this;this.$axios({method:"post",url:"".concat(this.$baseURI,"/api/user/profile")}).then((function(t){var r=t["data"];e.userData.name=r["name"],e.userData.birthday=new Date(r["birthday"]),e.userData.gender=r["gender"],e.userData.account=r["accountId"],e.userData.email=r["email"],e.userData.phone=r["telephone"],e.userData.idCard=r["residentIdNumber"],e.userData.workUnit=r["workplace"]}))}}},m=d,p=(r("dfb8"),Object(u["a"])(m,a,n,!1,null,"8d9f55ba",null));t["default"]=p.exports},"7f9c":function(e,t,r){},8418:function(e,t,r){"use strict";var a=r("c04e"),n=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var s=a(t);s in e?n.f(e,s,o(0,r)):e[s]=r}},"99af":function(e,t,r){"use strict";var a=r("23e7"),n=r("d039"),o=r("e8b5"),s=r("861d"),i=r("7b0b"),c=r("50c4"),u=r("8418"),l=r("65f0"),f=r("1dde"),d=r("b622"),m=r("2d00"),p=d("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",I=m>=51||!n((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=f("concat"),v=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},w=!I||!b;a({target:"Array",proto:!0,forced:w},{concat:function(e){var t,r,a,n,o,s=i(this),f=l(s,0),d=0;for(t=-1,a=arguments.length;t<a;t++)if(o=-1===t?s:arguments[t],v(o)){if(n=c(o.length),d+n>g)throw TypeError(h);for(r=0;r<n;r++,d++)r in o&&u(f,d,o[r])}else{if(d>=g)throw TypeError(h);u(f,d++,o)}return f.length=d,f}})},a9e3:function(e,t,r){"use strict";var a=r("83ab"),n=r("da84"),o=r("94ca"),s=r("6eeb"),i=r("5135"),c=r("c6b6"),u=r("7156"),l=r("c04e"),f=r("d039"),d=r("7c73"),m=r("241c").f,p=r("06cf").f,g=r("9bf2").f,h=r("58a8").trim,I="Number",b=n[I],v=b.prototype,w=c(d(v))==I,y=function(e){var t,r,a,n,o,s,i,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=h(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+u}for(o=u.slice(2),s=o.length,i=0;i<s;i++)if(c=o.charCodeAt(i),c<48||c>n)return NaN;return parseInt(o,a)}return+u};if(o(I,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,k=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof k&&(w?f((function(){v.valueOf.call(r)})):c(r)!=I)?u(new b(y(t)),r,k):y(t)},C=a?m(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;C.length>_;_++)i(b,x=C[_])&&!i(k,x)&&g(k,x,p(b,x));k.prototype=v,v.constructor=k,s(n,I,k)}},b0c0:function(e,t,r){var a=r("83ab"),n=r("9bf2").f,o=Function.prototype,s=o.toString,i=/^\s*function ([^ (]*)/,c="name";a&&!(c in o)&&n(o,c,{configurable:!0,get:function(){try{return s.call(this).match(i)[1]}catch(e){return""}}})},dfb8:function(e,t,r){"use strict";r("7f9c")},e8b5:function(e,t,r){var a=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-42c660b1.c7ca155a.js.map